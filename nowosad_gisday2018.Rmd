---
title: "Geocomputation with R:"
subtitle: "Analiza danych przestrzennych w otwartym oprogramowaniu"
author: "Jakub Nowosad <br>https://nowosad.github.io"
date: "GISday, 2018-11-14, Poznań"
output:
  xaringan::moon_reader:
    css: [default, metropolis, metropolis-fonts, "style.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: 16:9
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(fig.align = "center")
```

# Geocomputation

<!-- grass gis + arc + r -->



---
# Gecomputation with R

```{r gdsl, echo=FALSE, message=FALSE, results='asis'}
d = readr::read_csv('"Caech","GIS (GUI)","R (CLI)"
"Dyscyplina","Geografia","Statystyka, Informatyka"
"Sposób interakcji","Graficzny interfejs użytkownika","Wiersz poleceń"
"Odtwarzalność","Minimalna","Maksymalna"')
knitr::kable(x = d, 
             caption = paste("Różnice pomiędzy oprogramowaniem - graficzny",
                             "interfejs użytkownika (GUI) w programach GIS",
                             "oraz wiersz poleceń (CLI) w R"),
             booktabs = TRUE, 
             format = "html")
```

<!-- how and why -->
<!-- packages and posibilities -->
<!-- Facilitates the automation of repetitive tasks. -->
<!-- Enables transparency and reproducibility, the backbone of good scientific practice and data science. -->
<!-- Encourages software development by providing tools to modify existing functions and implement new ones. -->
<!-- Helps develop future-proof programming skills which are in high demand in many disciplines and industries. -->
<!-- Is user-friendly and fast, allowing an efficient workflow -->

---
# Geocomputation with R - książka

.lc[
```{r, out.width=325}
knitr::include_graphics("figs/bc.png")
```
]

.rc[
- Lovelace R., Nowosad J., Muenchow J. 2019, **Geocomputation with R**. CRC Press
- Wersja online znajduje się pod adresem https://geocompr.robinlovelace.net/
- Książka zostanie opublikowana w wydawnictwie CRC Press na początku 2019 roku (http://bit.ly/geocomp_with_r)
<br>


]

<!-- intro to the book -->
<!-- links-->

---
class: inverse, center, middle
# Podstawy

---
# R

<!-- - R + RStudio -->
<!-- - Simple workflow - gif? -->

---
# Dane wektorowe

---
# Dane rastrowe

---
# Tworzenie map

---
# Operacje geometryczne

---
class: inverse, center, middle
# Dodatkowe możliwości

---
# Łącznik z oprogramowaniem GIS

.pull-left[
<!--     Has a ‘shallow’ learning curve meaning geographic data can be explored and visualized without hours of learning a new language. -->
<!--     Provides excellent support for ‘digitizing’ (creating new vector datasets), including trace, snap and topological tools.43 -->
<!--     Enables georeferencing (matching raster images to existing maps) with ground control points and orthorectification. -->
<!--     Supports stereoscopic mapping (e.g., LiDAR and structure from motion). -->
<!--     Provides access to geodatabase management systems with object-oriented relational data models, topology and fast (spatial) querying. -->

<!-- Another advantage of dedicated GISs is that they provide access to hundreds of ‘geoalgorithms’ -->

R pozwala na łączenie z oprogramowaniem GIS:
- **rgrass7** - GRASS GIS - ponad 500 funkcji
- **RQGIS** - QGIS  - ponad 1000 funkcji
- **RSAGA** - SAGA GIS - ponad 600 funkcji
- **RPyGeo** - ArcGIS

Dodatkowo możliwe jest tworzenie połączeń z GDALem czy też PostGISem.

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(scales)
library(sf)
# create two polygons
coords_1 =  
  matrix(data = c(0, 0, 1, 0, 1, 1, 0, 1, 0, 0),
         ncol = 2, byrow = TRUE)
coords_2 =
  matrix(data = c(-0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 
                  -0.5, 0.5, -0.5, -0.5),
         ncol = 2, byrow = TRUE)

# create the first polygon
poly_1 = st_polygon(list((coords_1))) 
# convert it into a simple feature collection 
poly_1 = st_sfc(poly_1)
poly_1 = st_sfc(poly_1, crs = 4326)
# finally, convert it into an sf-object
poly_1 = st_sf(geometry = poly_1, data = data.frame(id = 1))

# create a second polygon
poly_2 = st_polygon(list((coords_2))) %>%
  st_sfc(., crs = 4326) %>%
  st_sf(geometry = ., data = data.frame(id = 1))
union_sf = st_union(poly_1, poly_2)
int = st_intersection(poly_1, poly_2)
diff_1 = st_sym_difference(poly_1, poly_2) %>%
  st_cast("POLYGON")
union_sf_2 = rbind(int, diff_1)
```

```{r, echo=FALSE, message=FALSE, warning=FALSE, fig.height=4}
par(mfrow = c(1, 2))
plot(st_geometry(poly_1), xlim = c(-0.5, 1), ylim = c(-0.5, 1), col = alpha(3, 0.5))
plot(st_geometry(poly_2), add = TRUE, col = alpha(2, 0.5))
plot(st_geometry(union_sf_2), col = alpha(1:3, 0.5))
```
]

.pull-right[
```{r, eval=FALSE}
library(RQGIS)
set_env()
```

```{r, eval=FALSE}
open_help("qgis:union")
get_usage("qgis:union")
```
```
## ALGORITHM: Union
##  INPUT <ParameterVector>
##  INPUT2 <ParameterVector>
##  OUTPUT <OutputVector>
```

```{r, eval=FALSE}
moj_wynik = run_qgis(
  "qgis:union",
  INPUT = poligon1,
  INPUT2 = poligon2,
  OUTPUT = "moj_wynik.shp",
  load_output = TRUE
)
```
]



---
# Przestrzenne uczenie maszynowe

---
# Tworzenie algorytmów przestrzennych

---
class: inverse, center, middle
# Przykłady zastosowania

---
# Analiza transportu

---
# Analiza geomarketingowa

---
# Analiza ekologiczna

---
class: inverse, center, middle
# Dodatkowe materiały

---
# ...

---
class: inverse, center, middle
# Podsumowanie

---
# Podsumowanie




---
class: center, middle
<!-- # Dziękuję -->

.pull-left[
## O mnie:

Twitter: `r icon::ii_social_twitter()` jakub_nowosad

Email: nowosad.jakub@gmail.com
]

.pull-right[
## Więcej informacji:

https://nowosad.github.io

https://geocompr.github.io/

]

```{r, eval=FALSE}
.footnote[
**Slides:** https://github.com/Nowosad/geostat18
]
```
